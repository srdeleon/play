@(currentPage: com.avaje.ebean.Page[Product])
<!DOCTYPE html>
<html>
	<head>
		<title>paperclips.example.com</title>
		<link href="@routes.Assets.at("bootstrap/css/bootstrap.mini.css")" rel="stylesheet" media="screen">
		<link href="@routes.Assets.at("stylesheets/main.css")" rel="stylesheet" media="screen">
		<link href="@routes.Assets.at("images/favicon.png")">
		<script src="@routes.Assets.at("javascripts/jquery-1.9.0.min.js")" type="text/javascript"></script>
	</head>
	<body>
		<div class="navbar navbar-inverse" id="navigation">
			<div class="navbar-inner">
				<div class="container">
					<a class="brand" href="@routes.Products.index()">log</a>
					<ul class="nav">
						<li><a href="@routes.Products.index()">Home</a></li>
						<li><a href="@routes.Products.list()">Products</a></li>
						<li><a href="">Contact</a></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="container">
			@if(flash.containsKey("success")) {
				<div class="alert alert-success">
					@flash.get("success")
				</div>
			}
			
			@if(flash.containsKey("error")) {
				<div class="alert alert-error">
					@flash.get("error")
				</div>
			}
			
			<h2>All products</h2>
			<script>
				function del(urlToDelete) {
					$.ajax({
						url: urlToDelete,
						type: 'DELETE',
						success: function(results) {
							//Refresh the page
							location.reload();
						}
					});
				}
			</script>
			<table class="table table-striped">
				<thead>
					<tr>
						<th>EAN</th>
						<th>Name</th>
						<th>Description</th>
						<th>Date</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					@for(product <- currentPage.getList()){
						<tr>
							<td><a href="@routes.Products.details(product)">@product.ean</a></td>
							<td><a href="@routes.Products.details(product)">@product.name</a></td>
							<td><a href="@routes.Products.details(product)">@product.description</a></td>
							<td>@product.date.format("dd-MM-yyyy")</td>
							<td>
								<a href="@routes.Products.details(product)"><i class="icon icon-pencil"></i></a>
								<a onclick="javascript:del('@routes.Products.delete(product.ean)')"><i class="icon icon-trash"></i></a>
							</td>
						</tr>
					}
				</tbody>
			</table>
			<div id="pagination" class="pagination">
				<ul>
					@if(currentPage.hasPrev) {
						<li class="prev"><a href="@routes.Products.list(currentPage.getPageIndex - 1)">&larr;</a></li>
					} else {
						<li class="prev disabled"><a>&larr;</a></li>
					}
					<li class="current"><a>@currentPage.getDisplayXtoYofZ(" - "," / ")</a></li>
					@if(currentPage.hasNext()) {
						<li class="next"><a href="@routes.Products.list(currentPage.getPageIndex + 1)">&rarr;</a></li>
					} else {
						<li class="next disabled"><a>&rarr;</a></li>
					}
				</ul>
			</div>
			<a href="@routes.Products.newProduct()" class="btn"><i class="icon-plus"></i> New product</a>
		</div>
		<footer class="footer">
			<div class="container">
				<p>Copyright ©2012 paperclips.example.com</p>
			</div>
		</footer>
	</body>
</html>